# 에셋 암호화

## 목적

오브젝트 저장소에 에셋을 암호화된 상태로 저장할 수 있도록 합니다.

## 민감한 데이터에 대한 접근

동형 암호 기술은 이 프로젝트의 범위를 벗어납니다. 암호화된 에셋의 내용에 접근할 때 에셋은 항상 복호화되어야 합니다.

오브젝트 저장소를 제외한 일부 시스템 구성 요소는 에셋에 암호화되지 않은 상태로 접근할 수 있습니다. 특히, 아래 목록의 시스템 구성 요소가 에셋에 암호화되지 않은 상태로 가장 많이 접근할 것이 예상됩니다.

- 처리기
- 애플리케이션 서버에서 암호화를 주로 다루는 컴포넌트
- 인증된 사용자의 웹 브라우저
  - 웹 브라우저는 주로 렌더링 결과에만 접근하지만, 이에 한정하지 않습니다. 추후 렌더링 결과에만 접근할 수 있도록 하는 동작이 추가될 수도 있습니다.

아래 목록의 시스템 구성 요소는 암호화 키를 일상적으로 평문으로 다룹니다.

- 데이터베이스 서버
- 애플리케이션 서버

## 암호화하는 주체

암호화가 필요한 것으로 표시된 에셋은 오브젝트 저장소에 업로드 또는 다운로드되기 직전과 직후에, 애플리케이션 서버에 의하여 암호화 및 복호화됩니다.

## 키 생성

암호화 키는 암호학적으로 안전한 난수 생성기를 이용하여 애플리케이션 서버가 생성합니다. 암호화 키는 평문으로 데이터베이스 서버에 저장됩니다. 사용자는 암호화 키를 그 생성 시점에 HTTPS를 통하여 최대 1회 확인할 수 있습니다.
